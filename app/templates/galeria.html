{% extends "base.html" %}

{% block title %}Galería - La Hora Azul{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/galeria.css') }}">
{% endblock %}

{% block content %}
<section class="galeria-pinterest">
  <div class="grid-galeria">
    <!-- 30 imágenes con tamaños variados -->
    <img src="https://picsum.photos/id/1015/300/180" alt="Foto 1" />
    <img src="https://picsum.photos/id/1016/300/250" alt="Foto 2" />
    <img src="https://picsum.photos/id/1018/300/120" alt="Foto 3" />
    <img src="https://picsum.photos/id/1020/300/200" alt="Foto 4" />
    <img src="https://picsum.photos/id/1021/300/170" alt="Foto 5" />
    <img src="https://picsum.photos/id/1024/300/260" alt="Foto 6" />
    <img src="https://picsum.photos/id/1025/300/130" alt="Foto 7" />
    <img src="https://picsum.photos/id/1027/300/210" alt="Foto 8" />
    <img src="https://picsum.photos/id/1031/300/140" alt="Foto 9" />
    <img src="https://picsum.photos/id/1033/300/250" alt="Foto 10" />
    <img src="https://picsum.photos/id/1035/300/180" alt="Foto 11" />
    <img src="https://picsum.photos/id/1037/300/220" alt="Foto 12" />
    <img src="https://picsum.photos/id/1041/300/150" alt="Foto 13" />
    <img src="https://picsum.photos/id/1043/300/270" alt="Foto 14" />
    <img src="https://picsum.photos/id/1044/300/130" alt="Foto 15" />
    <img src="https://picsum.photos/id/1045/300/200" alt="Foto 16" />
    <img src="https://picsum.photos/id/1047/300/180" alt="Foto 17" />
    <img src="https://picsum.photos/id/1050/300/240" alt="Foto 18" />
    <img src="https://picsum.photos/id/1052/300/160" alt="Foto 19" />
    <img src="https://picsum.photos/id/1053/300/210" alt="Foto 20" />
    <img src="https://picsum.photos/id/1055/300/140" alt="Foto 21" />
    <img src="https://picsum.photos/id/1056/300/190" alt="Foto 22" />
    <img src="https://picsum.photos/id/1057/300/250" alt="Foto 23" />
    <img src="https://picsum.photos/id/1060/300/170" alt="Foto 24" />
    <img src="https://picsum.photos/id/1062/300/200" alt="Foto 25" />
    <img src="https://picsum.photos/id/1063/300/180" alt="Foto 26" />
    <img src="https://picsum.photos/id/1065/300/230" alt="Foto 27" />
    <img src="https://picsum.photos/id/1066/300/150" alt="Foto 28" />
    <img src="https://picsum.photos/id/1067/300/190" alt="Foto 29" />
    <img src="https://picsum.photos/id/1070/300/210" alt="Foto 30" />
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
  window.addEventListener('load', () => {
    const grid = document.querySelector('.grid-galeria');
    const rowHeight = parseInt(getComputedStyle(grid).getPropertyValue('grid-auto-rows'));
    const rowGap = parseInt(getComputedStyle(grid).getPropertyValue('gap'));

    grid.querySelectorAll('img').forEach(img => {
      const height = img.getBoundingClientRect().height;
      const span = Math.ceil((height + rowGap) / (rowHeight + rowGap));
      img.style.setProperty('--span', span);
    });
  });
</script>
{% endblock %}
